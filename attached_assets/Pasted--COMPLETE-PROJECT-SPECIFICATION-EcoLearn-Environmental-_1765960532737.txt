ðŸŒ¿ COMPLETE PROJECT SPECIFICATION: EcoLearn Environmental LMS
Project Overview
Build a fully functional Learning Management System (LMS) focused on environmental education with role based access for students and teachers. The system must be clean, simple, error-free, and run smoothly with consistent styling throughout. Build a single unified web application with role-based access control. After login, the dashboard and navigation menu dynamically display different content and options based on whether the user is a student or teacher. All users access the same website (same domain, same codebase) but see personalized features according to their role.
________________________________________
Tech Stack Requirements
Backend:
â€¢	FastAPI (Python 3.9+)
â€¢	PostgreSQL database
â€¢	SQLAlchemy ORM
â€¢	Python-Jose for JWT tokens
â€¢	Uvicorn server
â€¢	Pydantic for data validation
Frontend:
â€¢	React (v19+)
â€¢	Vite build tool
â€¢	React Router DOM for routing
â€¢	NO external UI libraries (build with vanilla CSS/inline styles)
________________________________________
Project Structure
ecolearn-lms/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ main.py
â”‚   â”œâ”€â”€ database.py
â”‚   â”œâ”€â”€ models.py
â”‚   â”œâ”€â”€ schemas.py
â”‚   â”œâ”€â”€ deps.py
â”‚   â”œâ”€â”€ security.py
â”‚   â”œâ”€â”€ routers/
â”‚   â”‚   â”œâ”€â”€ auth.py
â”‚   â”‚   â”œâ”€â”€ users.py
â”‚   â”‚   â”œâ”€â”€ courses.py
â”‚   â”‚   â”œâ”€â”€ lessons.py
â”‚   â”‚   â”œâ”€â”€ quizzes.py
â”‚   â”‚   â”œâ”€â”€ enrollments.py
â”‚   â”‚   â””â”€â”€ progress.py
â”‚   â”œâ”€â”€ create_tables.py
â”‚   â””â”€â”€ create_test_users.py
â”‚
â””â”€â”€ frontend/
    â”œâ”€â”€ src/
    â”‚   â”œâ”€â”€ App.jsx   SINGLE APP with all routes
    â”‚   â”œâ”€â”€ main.jsx
    â”‚   â”œâ”€â”€ api.js
    â”‚   â”œâ”€â”€ pages/
    â”‚   â”‚   â”œâ”€â”€ Login.jsx     Shared login for everyone
    â”‚   â”‚   â”œâ”€â”€ Dashboard.jsx   Shows different content per role
    â”‚   â”‚   â””â”€â”€student/
    â”‚   â”‚        â”œâ”€â”€ Courses.jsx
    â”‚   â”‚        â”œâ”€â”€ EnrolledCourses.jsx
    â”‚   â”‚        â”œâ”€â”€ Lessons.jsx
    â”‚   â”‚        â”œâ”€â”€ Quiz.jsx
    â”‚   â”‚        â”œâ”€â”€ Progress.jsx
    â”‚   â”‚        â”œâ”€â”€ Certificate.jsx
    â”‚   â”‚   â””â”€â”€ teacher/
    â”‚   â”‚       â”œâ”€â”€ CreateCourse.jsx
    â”‚   â”‚       â”œâ”€â”€ CreateLesson.jsx
    â”‚   â”‚       â””â”€â”€ CreateQuiz.jsx
    â”‚   â”œâ”€â”€ components/
    â”‚   â”‚   â”œâ”€â”€ BackButton.jsx
    â”‚   â”‚   â”œâ”€â”€ CertificateCard.jsx
    â”‚   â”‚   â””â”€â”€ StudentRow.jsx
    â”‚   â”œâ”€â”€ utils/
    â”‚   â”‚   â””â”€â”€ auth.js
    â”‚   â””â”€â”€ styles/
    â”‚       â””â”€â”€ global.css
    â”œâ”€â”€ index.html
    â”œâ”€â”€ vite.config.js
    â””â”€â”€ package.json
________________________________________
Database Schema
Tables & Relationships:
1.	users 
o	id (PK, Integer, Auto-increment)
o	name (String, 100)
o	email (String, 100, Unique)
o	password (String, 200, plain text for simplicity)
o	role (String, 20) - "student" or "teacher"
2.	courses 
o	id (PK, Integer)
o	title (String, 150)
o	description (Text, nullable)
o	teacher_id (FK â†’ users.id)
o	is_active (Boolean, default=True)
3.	lessons 
o	id (PK, Integer)
o	title (String, 150)
o	content (Text, nullable)
o	course_id (FK â†’ courses.id)
4.	quizzes 
o	id (PK, Integer)
o	question (Text)
o	option_a (String, 200)
o	option_b (String, 200)
o	option_c (String, 200)
o	option_d (String, 200)
o	correct_answer (String, 10) - "A", "B", "C", or "D"
o	course_id (FK â†’ courses.id)
5.	enrollments 
o	id (PK, Integer)
o	user_id (FK â†’ users.id)
o	course_id (FK â†’ courses.id)
o	Constraint: Unique(user_id, course_id)
6.	student_progress 
o	id (PK, Integer)
o	student_id (FK â†’ users.id)
o	course_id (FK â†’ courses.id)
o	lesson_completed (Boolean, default=False)
o	quiz_score (Integer, default=0)
o	quiz_total (Integer, default=0)
o	quiz_attempts (Integer, default=0)
o	certificate_earned (Boolean, default=False)
________________________________________
Backend Implementation Details
1. Database Connection (database.py)
python
DATABASE_URL = "postgresql://postgres:postgres@localhost:5432/ecolearn_db"
engine = create_engine(DATABASE_URL)
SessionLocal = sessionmaker(bind=engine, autocommit=False, autoflush=False)
Base = declarative_base()
2. Security (security.py)
â€¢	Use python-jose for JWT
â€¢	SECRET_KEY = "supersecretkey" (simple for demo)
â€¢	ALGORITHM = "HS256"
â€¢	Token expires in 60 minutes
â€¢	Functions: create_access_token(), decode_access_token()
3. API Endpoints
Auth Routes (/auth)
â€¢	POST /auth/login - Login with email/password, return JWT token
â€¢	GET /auth/me - Get current user from Bearer token
Users Routes (/users)
â€¢	POST /users/ - Create user
â€¢	GET /users/ - Get all users
â€¢	GET /users/{id} - Get user by ID
â€¢	DELETE /users/{id} - Delete user
Courses Routes (/courses)
â€¢	POST /courses/ - Create course (requires teacher token)
â€¢	GET /courses/ - Get all active courses (query param: show_inactive=true for all)
â€¢	GET /courses/{id} - Get course by ID
â€¢	PUT /courses/{id} - Update course
â€¢	PATCH /courses/{id}/toggle - Enable/disable course
â€¢	DELETE /courses/{id} - Delete course (only if no enrollments)
Lessons Routes (/lessons)
â€¢	POST /lessons/ - Create lesson
â€¢	GET /lessons/course/{course_id} - Get all lessons for course
Quizzes Routes (/quizzes)
â€¢	POST /quizzes/ - Create quiz question
â€¢	GET /quizzes/course/{course_id} - Get all quiz questions for course
â€¢	POST /quizzes/submit - Submit quiz answers 
o	Body: { course_id, student_id, answers: {quiz_id: "A"} }
o	Returns: { score, total, percentage, attempts, certificate_earned }
Enrollments Routes (/enrollments)
â€¢	POST /enrollments/ - Enroll student in course
â€¢	GET /enrollments/student/{user_id} - Get student's enrollments
â€¢	GET /enrollments/course/{course_id} - Get course enrollments
Progress Routes (/progress)
â€¢	GET /progress/student/{student_id} - Get student progress for all courses
â€¢	GET /progress/course/{course_id} - Get all student progress for course
â€¢	POST /progress/update - Create/update progress record
________________________________________
Frontend Implementation Details
1. Global Configuration (api.js)
javascript
export const API_URL = "http://127.0.0.1:8000";
```

### **2. Authentication Flow**

### **3. Routing Structure**

**Unified App.jsx:**
```
/ â†’ Login
/dashboard â†’ Dashboard (role-based content)

Student Routes:
/courses â†’ Browse all courses
/enrolled â†’ My enrolled courses
/lessons/:courseId â†’ View course lessons
/quiz/:courseId â†’ Take quiz
/progress â†’ View my progress
/certificate/:studentId/:courseId â†’ View certificate

Teacher Routes:
/teacher/courses â†’ My created courses
/teacher/create-course â†’ Create new course
/teacher/create-lesson â†’ Add lesson to course
/teacher/create-quiz â†’ Add quiz question
4. Page Components
Login.jsx
â€¢	Email and password inputs
â€¢	Submit calls /auth/login
â€¢	On success, store token and redirect
Dashboard.jsx
â€¢	Shows different content based on user role
â€¢	Student Dashboard: 
o	Cards: Browse Courses, My Courses, My Progress
â€¢	Teacher Dashboard: 
o	Cards: My Courses, Create Course, Create Lesson, Create Quiz
Courses.jsx (Student)
â€¢	Lists all active courses
â€¢	"Enroll" button â†’ POST to /enrollments/
â€¢	Shows links to view lessons and take quiz
EnrolledCourses.jsx (Student)
â€¢	Lists student's enrolled courses
â€¢	Links to lessons and quizzes
Lessons.jsx
â€¢	Displays all lessons for a course
â€¢	Fetches from /lessons/course/{id}
Quiz.jsx (Student)
â€¢	Fetches questions from /quizzes/course/{id}
â€¢	Radio buttons for options (A, B, C, D)
â€¢	Shows attempts: X/2
â€¢	Submit button disabled if max attempts reached
â€¢	On submit: 
o	Send answers as {quiz_id: "A", quiz_id: "B", ...}
o	Handle response with score and certificate status
o	Redirect to certificate page if earned
Progress.jsx (Student)
â€¢	Fetches /progress/student/{id}
â€¢	Shows CertificateCard for each course
â€¢	Displays: score, percentage, attempts, certificate status
Certificate.jsx
â€¢	Simple certificate design
â€¢	Shows student name and course
â€¢	"Print Certificate" button
TeacherDashboard.jsx
â€¢	Lists teacher's courses
â€¢	Each course card shows: 
o	Title, description, active status
o	"View Progress" button
o	"Enable/Disable" button
â€¢	When "View Progress" clicked: 
o	Fetches /progress/course/{id}
o	Displays table with: 
ï‚§	Student name
ï‚§	Lessons status
ï‚§	Quiz score (X/Y, percentage)
ï‚§	Attempts (X/2)
ï‚§	Certificate earned
CreateCourse.jsx (Teacher)
â€¢	Form: title, description
â€¢	POST to /courses/ with Bearer token
â€¢	Success â†’ redirect to teacher dashboard
CreateLesson.jsx (Teacher)
â€¢	Dropdown: Select course (fetches teacher's courses)
â€¢	Form: title, content
â€¢	POST to /lessons/
CreateQuiz.jsx (Teacher)
â€¢	Dropdown: Select course
â€¢	Form: question, option A-D, correct answer
â€¢	POST to /quizzes/
â€¢	Allow adding multiple questions
5. Components
BackButton.jsx
â€¢	Simple back navigation button
â€¢	const navigate = useNavigate(); onClick={() => navigate(-1)}
CertificateCard.jsx
â€¢	Props: progress, courseName
â€¢	Displays score, percentage, attempts
â€¢	Shows certificate earned status
â€¢	"View Certificate" button if earned
StudentRow.jsx
â€¢	Table row component for teacher dashboard
â€¢	Props: student, index
â€¢	Displays student progress in table format
________________________________________
Styling Guidelines
Consistent Color Scheme:
â€¢	Primary green: #4caf50
â€¢	Dark green: #2e7d32
â€¢	Light green background: #e8f5e9
â€¢	Success: #4caf50
â€¢	Warning: #ff9800
â€¢	Error: #f44336
â€¢	Blue: #2196f3
Typography:
â€¢	Font family: Arial, sans-serif
â€¢	Headings: color: #2e7d32
â€¢	Body text: color: #333
Component Styles:
â€¢	Cards: white background, borderRadius: 10-15px, boxShadow: 0 2px 10px rgba(0,0,0,0.1)
â€¢	Buttons: padding: 12px 24px, borderRadius: 8px, no border
â€¢	Inputs: padding: 12px, borderRadius: 8px, border: 1px solid #c8e6c9
â€¢	Tables: white background, alternating row colors (#f9f9f9, white)
Layout:
â€¢	Max width containers: 700-1200px
â€¢	Center content: margin: 40px auto
â€¢	Consistent padding: 20px
â€¢	Responsive gap between elements: 15-20px
________________________________________
Business Logic
Quiz Attempts System:
â€¢	Students can take each quiz maximum 2 times
â€¢	Only best score is saved
â€¢	Certificate earned if â‰¥80% on any attempt
â€¢	After 2 attempts, quiz submission is blocked
Certificate Eligibility:
â€¢	Score â‰¥ 80% on quiz
â€¢	Automatically marked as certificate_earned = True
â€¢	Student can view/print certificate
Course Management:
â€¢	Teachers can create, edit, disable courses
â€¢	Cannot delete course if students enrolled
â€¢	Disabling makes course invisible to students
â€¢	Teachers see all their courses (active and disabled)
Progress Tracking:
â€¢	Automatic progress record creation on first quiz attempt
â€¢	Tracks: lessons completed, quiz score, attempts, certificate status
â€¢	Teachers view all student progress per course
________________________________________
Test Data Setup
create_test_users.py:
Create 2 users:
1.	Teacher: email=teacher@test.com, password=password123, role=teacher
2.	Student: email=student@test.com, password=password123, role=student
________________________________________
Error Handling
Backend:
â€¢	HTTPException for all errors with appropriate status codes
â€¢	400: Bad request (validation errors)
â€¢	401: Unauthorized (invalid token)
â€¢	403: Forbidden (wrong role)
â€¢	404: Not found
â€¢	Return JSON: { "detail": "error message" }
Frontend:
â€¢	Try-catch blocks for all API calls
â€¢	User-friendly alert messages
â€¢	Loading states during API calls
â€¢	Disabled buttons during submission
â€¢	Display error messages from API
________________________________________
CORS Configuration
python
app.add_middleware(
    CORSMiddleware,
    allow_origins=["*"],
    allow_credentials=True,
    allow_methods=["*"],
    allow_headers=["*"],
)
________________________________________
Running the Application
Backend:
bash
cd backend
uvicorn main:app --reload
# Runs on http://127.0.0.1:8000
Frontend:
bash
cd frontend
npm install
npm run dev
# Runs on http://localhost:5173
Database Setup:
bash
# Create PostgreSQL database
createdb ecolearn_db

# Run migrations
python create_tables.py

# Create test users
python create_test_users.py
________________________________________
Key Features Checklist
âœ… Authentication:
â€¢	JWT-based login for students and teachers
â€¢	Role-based access control
â€¢	Token validation on protected routes
âœ… Student Features:
â€¢	Browse and enroll in courses
â€¢	View course lessons
â€¢	Take quizzes (max 2 attempts)
â€¢	Track progress and view certificates
â€¢	Certificate generation for 80%+ scores
âœ… Teacher Features:
â€¢	Create and manage courses
â€¢	Add lessons and quiz questions
â€¢	View student progress and scores
â€¢	Enable/disable courses
â€¢	Cannot delete courses with enrollments
âœ… UI/UX:
â€¢	Clean, consistent green environmental theme
â€¢	Responsive design
â€¢	Loading states and error handling
â€¢	Intuitive navigation
â€¢	Clear visual feedback
________________________________________
Additional Requirements
1.	Code Quality: 
o	Simple, readable code
o	No complex abstractions
o	Inline comments for clarity
o	Consistent naming conventions
2.	No External Libraries: 
o	No Material-UI, Bootstrap, or Tailwind
o	Build with vanilla CSS and inline styles
o	Keep dependencies minimal
3.	Database: 
o	Use SQLAlchemy ORM
o	No raw SQL queries
o	Proper foreign key relationships
o	Cascade deletes where appropriate
4.	Security (Simplified): 
o	Passwords stored as plain text (demo purposes)
o	JWT tokens for authentication
o	Bearer token in Authorization header
5.	Testing: 
o	Manual testing via Swagger UI (FastAPI automatic docs)
o	Test all CRUD operations
o	Verify role-based access
________________________________________
Final Notes
â€¢	Keep the codebase extremely simple and easy to understand
â€¢	Prioritize functionality over fancy features
â€¢	Ensure error-free execution from start to finish
â€¢	Make styling consistent across all pages
â€¢	Test thoroughly before delivery
â€¢	Document any setup steps clearly

